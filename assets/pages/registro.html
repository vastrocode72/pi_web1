<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" media="all">

    <link rel="icon" type="image/png" href="../imagenes/logo.png">
    <script src="js/recuperar.js" defer></script>

    <title>Registro</title>
</head>

<body>
    <div class="nube"></div>

    <header class="header">
      <div>
        <div class="barra-superior">
          <a href="../pages/inicio_sesion.html" class="login-link">Iniciar sesiÃ³n</a> 
        </div>
        <div class="logo">
            <a href="index.html">
                <img src="../imagenes/logo.png" alt="logo">
            </a>
        </div>
      </div>  
        
      <h1>Sistema de GestiÃ³n de Becas</h1>
      <nav>
        <ul>
          <li><a href="../../index.html">Inicio</a></li>
          <li><a href="../pages/equipo.html">Equipo</a></li>
          <li><a href="../pages/acercade.html">Acerca de</a></li>
          <li><a href="../pages/comoaplicar.html">Como aplicar</a></li>
          <li><a href="../pages/cronograma.html">Cronograma</a></li>
        </ul>
      </nav>
    </header>



    <form id="registroForm">

        <br>
        <h2>Formulario de registro Usuario</h2><br><br><br>

        <label for="nombre">Nombre completo:</label><br>
        <input type="text" id="nombre" required><br><br>

        <label for="email">Correo:</label><br>
        <input type="email" id="email" required><br><br>

        <label for="cedula">NÃºmero de documento:</label><br>
        <input type="number" id="cedula" maxlength="12" required><br><br>

        <label for="contrasena">ContraseÃ±a:</label><br>
        <input type="password" id="contrasena" required><br><br>

        <label for="fecha">Fecha de nacimiento:</label><br>
        <input type="date" id="fecha" required><br><br>

        <button type="submit">Registrarse</button>
    </form>

    <div id="mensajeRegistro"></div>

    <script>
       const MOCKAPI_URL = 'https://6902fc56d0f10a340b221a9f.mockapi.io/form';

Â  Â  Â  Â  document.getElementById('registroForm').addEventListener('submit', function (e) {
Â  Â  Â  Â  Â  Â  e.preventDefault();

Â  Â  Â  Â  Â  Â  // 1. Capturar todos los valores del formulario
Â  Â  Â  Â  Â  Â  const nombre = document.getElementById('nombre').value.trim();
Â  Â  Â  Â  Â  Â  const email = document.getElementById('email').value.trim();
Â  Â  Â  Â  Â  Â  const cedula = document.getElementById('cedula').value.trim();
Â  Â  Â  Â  Â  Â  const contrasena = document.getElementById('contrasena').value.trim();
Â  Â  Â  Â  Â  Â  const fecha = document.getElementById('fecha').value.trim(); // Nuevo campo capturado

Â  Â  Â  Â  Â  Â  const mensaje = document.getElementById('mensajeRegistro');

Â  Â  Â  Â  Â  Â  // 2. ValidaciÃ³n de campos (mejorada)
Â  Â  Â  Â  Â  Â  if (!nombre || !email || !cedula || !contrasena || !fecha) {
Â  Â  Â  Â  Â  Â  Â  Â  mensaje.textContent = "Todos los campos son obligatorios.";
Â  Â  Â  Â  Â  Â  Â  Â  mensaje.style.color = "red";
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // 3. Solicitud FETCH (modificada para usar la URL y datos correctos)
Â  Â  Â  Â  Â  Â  fetch(MOCKAPI_URL, { // Usamos la URL de MockAPI
Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  headers: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Content-Type': 'application/json'
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ğŸ’¡ AsegÃºrate que estos nombres (claves) coincidan con los campos de tu recurso en MockAPI
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  nombre: nombre, 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  email: email,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cedula: cedula,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  contrasena: contrasena,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  fechaNacimiento: fecha // Usamos un nombre descriptivo para la fecha
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  .then(res => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!res.ok) throw new Error("No se pudo registrar el usuario. CÃ³digo: " + res.status);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return res.json();
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  .then(data => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // 4. Manejo de Ã©xito
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mensaje.textContent = "âœ… Usuario registrado con Ã©xito. ID asignado: " + data.id;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mensaje.style.color = "green";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('registroForm').reset();
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  .catch(err => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // 5. Manejo de error
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error al registrar:', err);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mensaje.textContent = "âŒ Error al registrar. Revisa la consola y tu API de MockAPI.";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mensaje.style.color = "red";
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });


    </script>


    <!-- Footer -->
    <footer class="footer">
        <div class="footer-columns">
            <div class="column">
                <h4>Enlaces RÃ¡pidos</h4>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="pages/formulario.html">Formulario</a></li>
                    <li><a href="pages/equipo.html">Equipo</a></li>
                    <li><a href="pages/acercade.html">Acerca de</a></li>
                    <li><a href="pages/comoaplicar.html">CÃ³mo aplicar</a></li>
                    <li><a href="pages/cronograma.html">Cronograma</a></li>
                </ul>
            </div>

            <div class="column">
                <h4>Contacto</h4>
                <div class="social-links">
                    <p>Email: correoinstitucional@gmail.com</p>
                    <p>TelÃ©fono: (123)456-7890</p>
                    <a
                        href="https://docs.google.com/forms/d/e/1FAIpQLScCAej2W1LedgOui0IZq6YsrLQzyOsXl59cW-TtmocQ3AEpLA/viewform?usp=header">Registra
                        una PQR</a>
                </div>
            </div>

            <div class="column">
                <h4>Redes sociales</h4>
                <div class="social-links">
                    <a href="https://www.instagram.com/"><img src="/assets/imagenes/logo_instagram.png"
                            alt="Instagram"></a>
                    <a href="https://www.facebook.com/?locale=es_LA"><img src="/assets/imagenes/logo_facebook.png"
                            alt="Facebook"></a>
                    <a href="https://x.com/i/flow/login?lang=es"><img src="/assets/imagenes/Logo X.jpg" alt="X"></a>
                </div>
            </div>
        </div>

        <div class="copyright">
            <p>Â© 2025 Sistema de gestiÃ³n de becas. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Boton Flotante -->
    <div>
        <a href="https://wa.me/+573226650351" class="whatsapp-btn" target="_blank">
            <img src="/assets/imagenes/logo_whatsapp.png" alt="icono whatsapp">
        </a>
    </div>
    <!-- Agregar JS de Bootstrap antes del cierre de body -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>
</html>