<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" media="all">

    <link rel="icon" type="image/png" href="../imagenes/logo.png">
    <script src="js/recuperar.js" defer></script>

    <title>Registro</title>
</head>

<body>
    <div class="nube"></div>

    <header class="header">
        <div class="barra-superior ">
            <a href="/assets/pages/inicio_sesion.html">Iniciar sesión</a>
        </div>

        <div class="logo"> <!-- Prog Img -->
            <a href="/index.html">
                <img src="/assets/imagenes/logo.png" alt="logo">
            </a>
        </div>
        <h1>Sistema de Gestión de Becas</h1>

        <nav>
            <ul>
                <li><a href="/index.html">Inicio</a></li>
                <li><a href="../pages/formulario.html">Formulario</a></li>
                <li><a href="../pages/equipo.html">Equipo</a></li>
                <li><a href="../pages/acercade.html">Acerca de</a></li>
                <li><a href="../pages/comoaplicar.html">Cómo aplicar</a></li>
                <li><a href="../pages/cronograma.html">Cronograma</a></li>
            </ul>
        </nav>
    </header><br>


    <form id="registroForm">

        <br>
        <h2>Formulario de registro</h2><br><br><br>

        <label for="cedula">Cédula:</label><br>
        <input type="number" id="cedula" maxlength="12" required><br><br>

        <label for="contrasena">Contraseña:</label><br>
        <input type="password" id="contrasena" required><br><br>

        <label for="nombre">Nombre completo:</label><br>
        <input type="text" id="nombre" required><br><br>

        <label for="email">Correo:</label><br>
        <input type="email" id="email" required><br><br>

        <label for="fecha">Fecha de nacimiento:</label><br>
        <input type="date" id="fecha" required><br><br>

        <button type="submit">Registrarse</button>
    </form>

    <div id="mensajeRegistro"></div>

    <script>
        document.getElementById('registroForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const cedula = document.getElementById('cedula').value.trim();
            const contrasena = document.getElementById('contrasena').value.trim();
            const nombre = document.getElementById('nombre').value.trim();
            const email = document.getElementById('email').value.trim()
            const mensaje = document.getElementById('mensajeRegistro');

            if (!cedula || !contrasena || !nombre || !email) {
                mensaje.textContent = "Todos los campos son obligatorios.";
                mensaje.style.color = "red";
                return;
            }

            fetch('https://68f27b1eb36f9750deecc6df.mockapi.io/IniciodeSesion', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    cedula: cedula,
                    contrasena: contrasena,
                    nombre: nombre,
                    email: email,
                })
            })
                .then(res => {
                    if (!res.ok) throw new Error("No se pudo registrar el usuario.");
                    return res.json();
                })
                .then(data => {
                    mensaje.textContent = "Usuario registrado con éxito.";
                    mensaje.style.color = "green";
                    document.getElementById('registroForm').reset();
                })
                .catch(err => {
                    console.error('Error al registrar:', err);
                    mensaje.textContent = "Error al registrar. Intenta más tarde.";
                    mensaje.style.color = "red";
                });
        });
    </script>


    <!-- Footer -->
    <footer class="footer">
        <div class="footer-columns">
            <div class="column">
                <h4>Enlaces Rápidos</h4>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="pages/formulario.html">Formulario</a></li>
                    <li><a href="pages/equipo.html">Equipo</a></li>
                    <li><a href="pages/acercade.html">Acerca de</a></li>
                    <li><a href="pages/comoaplicar.html">Cómo aplicar</a></li>
                    <li><a href="pages/cronograma.html">Cronograma</a></li>
                </ul>
            </div>

            <div class="column">
                <h4>Contacto</h4>
                <div class="social-links">
                    <p>Email: correoinstitucional@gmail.com</p>
                    <p>Teléfono: (123)456-7890</p>
                    <a
                        href="https://docs.google.com/forms/d/e/1FAIpQLScCAej2W1LedgOui0IZq6YsrLQzyOsXl59cW-TtmocQ3AEpLA/viewform?usp=header">Registra
                        una PQR</a>
                </div>
            </div>

            <div class="column">
                <h4>Redes sociales</h4>
                <div class="social-links">
                    <a href="https://www.instagram.com/"><img src="/assets/imagenes/logo_instagram.png"
                            alt="Instagram"></a>
                    <a href="https://www.facebook.com/?locale=es_LA"><img src="/assets/imagenes/logo_facebook.png"
                            alt="Facebook"></a>
                    <a href="https://x.com/i/flow/login?lang=es"><img src="/assets/imagenes/Logo X.jpg" alt="X"></a>
                </div>
            </div>
        </div>

        <div class="copyright">
            <p>© 2025 Sistema de gestión de becas. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Boton Flotante -->
    <div>
        <a href="https://wa.me/+573226650351" class="whatsapp-btn" target="_blank">
            <img src="/assets/imagenes/logo_whatsapp.png" alt="icono whatsapp">
        </a>
    </div>
    <!-- Agregar JS de Bootstrap antes del cierre de body -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>